!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);n(1);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=t[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var a,i=document.querySelector(".search__input-left"),o=document.querySelector(".search__input-right"),c=document.querySelector(".container__wrapper-left"),u=document.querySelector(".container__wrapper-right"),d=document.querySelector(".footer__btn"),l=[],f=localStorage;function s(t,e){return e.v="5.76",new Promise(function(n,r){VK.api(t,e,function(t){t.error?r(t.error):n(t.response)})})}function v(t){var e=document.createElement("div"),n=document.createElement("p"),r=document.createElement("img"),a=document.createElement("div");return e.classList.add("container__item"),n.classList.add("container__item-text"),r.classList.add("container__item-img"),a.classList.add("container__item-btn--add"),e.setAttribute("data-id",t.id),a.setAttribute("data-id",t.id),e.draggable=!0,n.textContent="".concat(t.first_name," ").concat(t.last_name),r.src=t.photo_100,c.appendChild(e),e.appendChild(n),e.appendChild(r),e.appendChild(a),e}function m(t){var e=document.createElement("div"),n=document.createElement("p"),r=document.createElement("img"),a=document.createElement("div");return e.classList.add("container__item"),n.classList.add("container__item-text"),r.classList.add("container__item-img"),a.classList.add("container__item-btn--delete"),e.setAttribute("data-id",t.id),a.setAttribute("data-id",t.id),e.draggable=!0,n.textContent="".concat(t.first_name," ").concat(t.last_name),r.src=t.photo_100,u.appendChild(e),e.appendChild(n),e.appendChild(r),e.appendChild(a),e}function p(t,e){return t.toLowerCase().indexOf(e.toLowerCase())>-1}function _(t){i.addEventListener("keyup",function(){var e=i.value,n=t.filter(function(t){return p("".concat(t.first_name," ").concat(t.last_name),e)});c.innerHTML="";for(var r=0;r<n.length;r++)v(n[r])})}function g(t){o.addEventListener("keyup",function(){var e=o.value,n=t.filter(function(t){return p("".concat(t.first_name," ").concat(t.last_name),e)});u.innerHTML="";for(var r=0;r<n.length;r++)m(n[r])})}function h(t,e){c.addEventListener("click",function(n){var r=n.target;if(r.classList.contains("container__item-btn--add")){var a=Number(r.getAttribute("data-id")),d=t.findIndex(function(t){return t.id===a});e.push(t[d]),t.splice(d,1),l=i.value?t.filter(function(t){return p("".concat(t.first_name," ").concat(t.last_name),i.value)}):t,c.innerHTML="";for(var f=0;f<l.length;f++)v(l[f]);l=o.value?e.filter(function(t){return p("".concat(t.first_name," ").concat(t.last_name),o.value)}):e,u.innerHTML="";for(var s=0;s<l.length;s++)m(l[s])}})}function L(t,e){u.addEventListener("click",function(n){var r=n.target;if(r.classList.contains("container__item-btn--delete")){var a=Number(r.getAttribute("data-id")),d=e.findIndex(function(t){return t.id===a});t.push(e[d]),e.splice(d,1),l=o.value?e.filter(function(t){return p("".concat(t.first_name," ").concat(t.last_name),o.value)}):e,u.innerHTML="";for(var f=0;f<l.length;f++)m(l[f]);l=i.value?t.filter(function(t){return p("".concat(t.first_name," ").concat(t.last_name),i.value)}):t,c.innerHTML="";for(var s=0;s<l.length;s++)v(l[s])}})}function b(t,e,n,r){t.addEventListener("dragstart",function(e){a={node:e.target,zone:t}}),t.addEventListener("dragover",function(t){t.preventDefault()}),e.addEventListener("dragover",function(t){t.preventDefault()}),e.addEventListener("drop",function(t){if(a){if(t.preventDefault(),a.zone===e)return;if(a.node.classList.contains("container__item")){var d=Number(a.node.getAttribute("data-id")),f=n.findIndex(function(t){return t.id===d});r.push(n[f]),n.splice(f,1),l=i.value?n.filter(function(t){return p("".concat(t.first_name," ").concat(t.last_name),i.value)}):n,c.innerHTML="";for(var s=0;s<l.length;s++)v(l[s]);l=o.value?r.filter(function(t){return p("".concat(t.first_name," ").concat(t.last_name),o.value)}):r,u.innerHTML="";for(var _=0;_<l.length;_++)m(l[_])}}})}function y(t,e,n,r){e.addEventListener("dragstart",function(t){a={node:t.target,zone:e}}),e.addEventListener("dragover",function(t){t.preventDefault()}),t.addEventListener("dragover",function(t){t.preventDefault()}),t.addEventListener("drop",function(e){if(a){if(e.preventDefault(),a.zone===t)return;if(a.node.classList.contains("container__item")){var d=Number(a.node.getAttribute("data-id")),f=r.findIndex(function(t){return t.id===d});n.push(r[f]),r.splice(f,1),l=o.value?r.filter(function(t){return p("".concat(t.first_name," ").concat(t.last_name),o.value)}):r,u.innerHTML="";for(var s=0;s<l.length;s++)m(l[s]);l=i.value?n.filter(function(t){return p("".concat(t.first_name," ").concat(t.last_name),i.value)}):n,c.innerHTML="";for(var _=0;_<l.length;_++)v(l[_])}}})}VK.init({apiId:6765635}),function(){return new Promise(function(t,e){VK.Auth.login(function(n){n.session?t():e(new Error("Не удалось авторизоваться"))},2)})}().then(function(){return s("users.get",{name_case:"gen"})}).then(function(t){r(t,1)[0];return s("friends.get",{fields:"city, country, photo_100"})}).then(function(t){var e=t.items,n=[];if(f.getItem("data")&&f.getItem("data2")){var r=JSON.parse(f.getItem("data")),a=JSON.parse(f.getItem("data2"));c.innerHTML="";for(var i=0;i<r.length;i++)v(r[i]);for(var o=0;o<a.length;o++)m(a[o]);_(r),g(a),h(r,a),L(r,a),b(c,u,r,a),y(c,u,r,a)}else{for(var l=0;l<e.length;l++)v(e[l]);_(e),g(n),h(e,n),L(e,n),b(c,u,e,n),y(c,u,e,n)}d.addEventListener("click",function(){f.setItem("data",JSON.stringify(e)),f.setItem("data2",JSON.stringify(n))})})},function(t,e,n){}]);